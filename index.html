<!DOCTYPE html>
<html>
<head>
        <link rel="stylesheet" type="text/css" href="style.css">
</head>
    <div class='buttons'>
        <button id="btn">Rock</button>
        <button id='btn'>Paper</button>
        <button id='btn'>Scissors</button>
    </div>
    <div id='scoreboard'>
        <h1>Scoreboard</h1>
        <div id='player'>
            <p>Player</p>
            <p id='playerscore'>0</p>
        </div>
        <div id='computer'>
            <p>Computer</p>
            <p id='computerscore'>0</p>
        </div>
        
    </div>
</html>




<script>
    function computerPlay(){
        var pick = Math.floor(Math.random()*3);
        var choices = ["Rock","Paper","Scissors"];
        computer = choices[pick];
        return computer;
    }
    
    let ps = 0;
    let cs = 0;

    function playRound(player,computer) {
        const p = player.toLowerCase();
        const c = computer.toLowerCase();
        console.log("Player chose " + p);
        console.log("Computer chose " + c);

        
        if(p==c){
            return "Tie!"
        }
        if (p=="rock" && c=="scissors") {
            ps++;
            return "You win! Rock beats Scissors.";
        } else if (p=="rock" && c=="paper") {
            cs++;
            return "You lose! Paper beats rock.";
        } else if (p=="scissors" && c=="rock") {
            cs++;
            return "You lose! Rock beats Scissors.";
        } else if (p=="scissors" && c=="paper") {
            ps++;
            return "You win! Scissors beats Paper";
        } else if (p=="paper" && c=="scissors") {
            cs++;
            return "You lose! Scissors beats Paper.";
        } else if (p=="paper" && c=="rock") {
            ps++;
            return "You win! Paper beats Rock.";
        }
    }
    const computerSelection = computerPlay();
    
    var btns = document.querySelectorAll('#btn');
    
    const containerPlayer = document.querySelector('#player');
    const containerComputer = document.querySelector('#computer');
    const playerscore = document.createElement('p');
    const computerscore = document.createElement('p');
    
    const childP = document.querySelector('#playerscore');
    const childC = document.querySelector('#computerscore');
    
    const length = 5
    btns.forEach((choice) => {
        choice.addEventListener('click', (e) => {
            if ((ps<length)&&(cs<length)) {
                var player = choice.textContent;
                alert(player);
                computerPlay();
                var outcome = playRound(player,computer);
                console.log(outcome);
                alert(outcome);
                playerscore.textContent = ps;
                computerscore.textContent = cs;

                containerPlayer.replaceChild(playerscore, childP);
                containerComputer.replaceChild(computerscore, childC);
            } else if (cs>ps){
                alert('game over, computer wins');
            } else {
                alert('game over, you win');
            };
        });
    });


    // function game(){
    //     for(let i=0; i<4; i++)
    //     {
    //     let playerSelection = prompt("Rock, paper or scissors?");
    //     let computerSelection = computerPlay();
        
    //     console.log(ps);
    //     console.log(cs);
    //     console.log(playRound(playerSelection,computerSelection));
    //     }

    // }

    // function whoWins(){
    //     if(ps>cs) {
    //         return "You Win! " + ps + ": " + cs;
    //     } else if (cs>ps) {
    //         return "You Lose! " + ps + ": " + cs;
    //     } else {
    //         return "Tie!" + ps +": " + cs;
    //     }
    // }
    

    //console.log(playRound(playerSelection,computerSelection))
    // game();
    // console.log(whoWins())
</script>